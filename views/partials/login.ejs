<!-- views/partials/login.ejs -->

<div id="authModal" class="auth-modal">
  <div class="auth-modal-backdrop"></div>
  <div class="auth-modal-content">
    <div class="auth-modal-header">
      <h5 class="auth-modal-title">Login or Register</h5>
      <button class="auth-modal-close" id="closeModal">
        <i class="bi bi-x-square"></i>
      </button>
    </div>
    <div class="auth-modal-body">
      <!-- Tab Navigation -->
      <ul class="nav nav-tabs" id="authTabs" role="tablist">
        <li class="nav-item">
          <button class="nav-link active" id="login-tab" data-tab="login">Login</button>
        </li>
        <li class="nav-item">
          <button class="nav-link" id="register-tab" data-tab="register">Register</button>
        </li>
      </ul>
      <!-- Tab Content -->
      <div id="login" class="auth-tab-content active mt-3">
        <form action="/auth/login" method="POST" novalidate>
          <div class="mb-3">
            <label for="login-email" class="form-label">Email</label>
            <input type="email" id="login-email" class="form-control" name="email" required />
          </div>
          <div class="mb-3">
            <label for="login-password" class="form-label">Password</label>
            <input type="password" id="login-password" class="form-control" name="password" required />
          </div>
          <button type="submit" class="btn btn-primary w-100 mb-3">Login</button>
          <!-- OAuth Login Buttons -->
          <div class="d-grid gap-2 mb-3">
            <a href="/auth/google" class="btn btn-outline-danger w-100">
              <i class="bi bi-google me-2"></i>Sign in with Google
            </a>
            <a href="/auth/github" class="btn btn-outline-dark w-100">
              <i class="bi bi-github me-2"></i>Sign in with GitHub
            </a>
          </div>
          <!-- Forgot Password and Resend Confirmation -->
          <div class="text-center">
            <a href="/forgot-password" class="text-decoration-none">Forgot Password?</a><br>
            <a href="/resend-confirmation" class="text-decoration-none">Resend Confirmation Email</a>
          </div>
        </form>
      </div>
      <div id="register" class="auth-tab-content">
        <form action="/auth/register" method="POST" novalidate>
          <div class="mb-3">
            <label for="register-username" class="form-label">Username</label>
            <input type="text" id="register-username" class="form-control" name="username" maxlength="50" required />
          </div>
          <div class="mb-3">
            <label for="register-email" class="form-label">Email</label>
            <input type="email" id="register-email" class="form-control" name="email" required />
          </div>
          <div class="mb-3">
            <label for="register-password" class="form-label">Password</label>
            <input type="password" id="register-password" class="form-control mb-1" name="password" required />
            <ul class='psw-requirements'>
              <li id='lower'>At least one lowercase letter</li>
              <li id='upper'>At least one uppercase letter.</li>
              <li id='digit'>At least one digit.</li>
              <li id='symbol'>At least one special character.</li>
              <li id='psw-length'>At least 8 characters.</li>
            </ul>
          </div>
          <div class="mb-3">
            <label for="register-confirm-password" class="form-label">Confirm Password</label>
            <input type="password" id="register-confirm-password" class="form-control" name="confirmPassword" required />
          </div>
          <button type="submit" class="btn btn-primary w-100 mb-3">Register</button>
          <!-- OAuth Register Buttons -->
          <div class="d-grid gap-2">
            <a href="/auth/google" class="btn btn-outline-danger w-100">
              <i class="bi bi-google me-2"></i>Register with Google
            </a>
            <a href="/auth/github" class="btn btn-outline-dark w-100">
              <i class="bi bi-github me-2"></i>Register with GitHub
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
